(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{102:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return o}));var a=n(50),r=n(3),s={dialogs:[{id:"1",name:"Andrey Sergeev"},{id:"2",name:"Petya Samysin"},{id:"3",name:"Ira Tolochko"},{id:"4",name:"Sasha Sarychev"},{id:"5",name:"Stepan Klimov"},{id:"6",name:"Anna Starkova"}],messages:[{id:1,message:"Its just testing page for adding messages"},{id:2,message:"Something interesting"},{id:3,message:"this is good if you read this"},{id:4,message:"Hi, bro!"},{id:5,message:"Add something if you want"}]},i=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"DIALOGS/ADD-MESSAGE":var n={id:(new Date).getTime(),message:e.message};return Object(r.a)(Object(r.a)({},t),{},{messages:[].concat(Object(a.a)(t.messages),[n])});default:return t}},o=function(t){return{type:"DIALOGS/ADD-MESSAGE",message:t}}},111:function(t,e,n){"use strict";n.d(e,"a",(function(){return l})),n.d(e,"b",(function(){return j})),n.d(e,"c",(function(){return h})),n.d(e,"e",(function(){return m})),n.d(e,"d",(function(){return O})),n.d(e,"f",(function(){return v}));var a=n(10),r=n.n(a),s=n(14),i=n(50),o=n(3),c=n(15),u={items:[],pageSize:6,currentPage:1,totalCount:0,isFetching:!0,startPage:1,followingInProgress:[]},l=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"USERS/FOLLOW":return Object(o.a)(Object(o.a)({},t),{},{items:t.items.map((function(t){return t.id===e.userId?Object(o.a)(Object(o.a)({},t),{},{followed:!0}):t}))});case"USERS/UNFOLLOW":return Object(o.a)(Object(o.a)({},t),{},{items:t.items.map((function(t){return t.id===e.userId?Object(o.a)(Object(o.a)({},t),{},{followed:!1}):t}))});case"USERS/SET-USERS":return Object(o.a)(Object(o.a)({},t),{},{items:e.users});case"USERS/SET-TOTAL-USERS-COUNT":return Object(o.a)(Object(o.a)({},t),{},{totalCount:e.totalCount});case"USERS/CHANGE-CURRENT-PAGE":return Object(o.a)(Object(o.a)({},t),{},{currentPage:e.currentPage});case"TOGGLE-IS-FETCHING":return Object(o.a)(Object(o.a)({},t),{},{isFetching:e.isFetching});case"CHANGE-START-PAGE":return Object(o.a)(Object(o.a)({},t),{},{startPage:e.pageNumber});case"TOGGLE-IS-FOLLOWING-PROGRESS":return Object(o.a)(Object(o.a)({},t),{},{followingInProgress:e.isFollowing?[].concat(Object(i.a)(t.followingInProgress),[e.userId]):t.followingInProgress.filter((function(t){return t!==e.userId}))});default:return t}},d=function(t){return{type:"USERS/FOLLOW",userId:t}},f=function(t){return{type:"USERS/UNFOLLOW",userId:t}},j=function(t){return{type:"USERS/CHANGE-CURRENT-PAGE",currentPage:t}},b=function(t){return{type:"TOGGLE-IS-FETCHING",isFetching:t}},p=function(t,e){return{type:"TOGGLE-IS-FOLLOWING-PROGRESS",isFollowing:t,userId:e}},h=function(t){return{type:"CHANGE-START-PAGE",pageNumber:t}},m=function(t,e){return function(){var n=Object(s.a)(r.a.mark((function n(a){var s;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(b(!0)),a(j(t)),n.next=4,c.d.getUsers(t,e);case 4:s=n.sent,a(b(!1)),a({type:"USERS/SET-USERS",users:s.data.items}),a({type:"USERS/SET-TOTAL-USERS-COUNT",totalCount:s.data.totalCount});case 8:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()},O=function(t){return function(){var e=Object(s.a)(r.a.mark((function e(n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(p(!0,t)),e.next=3,c.d.followUser(t);case 3:!e.sent.data.resultCode&&n(d(t)),n(p(!1,t));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},v=function(t){return function(){var e=Object(s.a)(r.a.mark((function e(n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(p(!0,t)),e.next=3,c.d.unFollowUser(t);case 3:!e.sent.data.resultCode&&n(f(t)),n(p(!1,t));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},12:function(t,e,n){t.exports={nav:"Navbar_nav__3cPQl",pagesLinksContainer:"Navbar_pagesLinksContainer__1HzLT",item:"Navbar_item__1qTnH",activeLink:"Navbar_activeLink__1bbTB",settingsBtn:"Navbar_settingsBtn__2X2QR",btnsHeaderContainer:"Navbar_btnsHeaderContainer__29eOb",logInOutBtn:"Navbar_logInOutBtn__3-bbY"}},140:function(t,e,n){},141:function(t,e,n){t.exports={header:"Header_header__18STJ"}},15:function(t,e,n){"use strict";n.d(e,"d",(function(){return s})),n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return c}));var a=n(137),r=n.n(a).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"528fa1c0-cacc-47ff-ae93-32ce73ccde7f"}}),s={getUsers:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return r.get("users?page=".concat(t,"&count=").concat(e))},unFollowUser:function(t){return r.delete("follow/".concat(t))},followUser:function(t){return r.post("follow/".concat(t))}},i={me:function(){return r.get("auth/me")},login:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return r.post("auth/login",{email:t,password:e,rememberMe:n,captcha:a})},logout:function(){return r.delete("auth/login")}},o={getProfileUser:function(t){return r.get("profile/".concat(t))},getUserStatus:function(t){return r.get("profile/status/".concat(t))},updateUserStatus:function(t){return r.put("profile/status",{status:t})},savePhoto:function(t){var e=new FormData;return e.append("image",t),r.put("/profile/photo",e,{headers:{"Content-Type":"multipart/form-data"}})},saveProfile:function(t){return r.put("profile",t)}},c={getCaptchaUrl:function(){return r.get("security/get-captcha-url")}}},170:function(t,e,n){},18:function(t,e,n){t.exports={formControl:"FormsControls_formControl__2cpQF",error:"FormsControls_error__3gzUc",formSummaryError:"FormsControls_formSummaryError__1yNyJ",btnSaveProfileInfo:"FormsControls_btnSaveProfileInfo__11sN2",fullNameAndSaveBtn:"FormsControls_fullNameAndSaveBtn__PM4-Q",EditPersonalInformation:"FormsControls_EditPersonalInformation__3AmYo",marginBottomForSections:"FormsControls_marginBottomForSections__3SFtv",lookingForAJob:"FormsControls_lookingForAJob__lYY54"}},23:function(t,e,n){t.exports={profileInformationContainer:"ProfileInfo_profileInformationContainer__3iTIt",mainProfileInfo:"ProfileInfo_mainProfileInfo__2ua5_",leftBlockMainProfileInfo:"ProfileInfo_leftBlockMainProfileInfo__GQyTp",topBlockMainProfileInfo:"ProfileInfo_topBlockMainProfileInfo__3p-zR",bottomInfoBlock:"ProfileInfo_bottomInfoBlock__3TI9m",userName:"ProfileInfo_userName__1Qku4",avaContainer:"ProfileInfo_avaContainer__CRg3I",btnEditProfile:"ProfileInfo_btnEditProfile__3GiLO",addUserPhoto:"ProfileInfo_addUserPhoto__32Dbf",searchJobStatus:"ProfileInfo_searchJobStatus__7vTVg",inputAddUserPhoto:"ProfileInfo_inputAddUserPhoto__3_XUC",userContacts:"ProfileInfo_userContacts__3aELh"}},253:function(t,e,n){},294:function(t,e,n){"use strict";n.r(e);var a=n(1),r=n.n(a),s=function(t){t&&t instanceof Function&&n.e(6).then(n.bind(null,299)).then((function(e){var n=e.getCLS,a=e.getFID,r=e.getFCP,s=e.getLCP,i=e.getTTFB;n(t),a(t),r(t),s(t),i(t)}))},i=n(71),o=n.n(i),c=(n(170),n(24)),u=n(16),l=n(9),d=n(102),f=n(10),j=n.n(f),b=n(14),p=n(50),h=n(3),m=n(15),O=n(38),v={posts:[{id:1,message:"Hi, how are you?",likesCount:3},{id:2,message:"It's my first post",likesCount:12},{id:3,message:"It's my second post",likesCount:1},{id:4,message:"It's my third post",likesCount:3}],profile:null,status:""},g=function(t){return{type:"PROFILE/SET-USER-STATUS",status:t}},x=function(t){return{type:"PROFILE/SET-USER-AVATAR",image:t}},_=function(t){return function(){var e=Object(b.a)(j.a.mark((function e(n){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.b.getProfileUser(t);case 2:a=e.sent,n({type:"PROFILE/SET-USER-PROFILE",profile:a.data});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},S={},P=n(111),k=n(45),C=n(138),N=n(135),I={initialized:!1},E=Object(l.c)({profilePage:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"PROFILE/ADD-POST":var n={id:(new Date).getTime(),message:e.postMessage,likesCount:0};return Object(h.a)(Object(h.a)({},t),{},{posts:[].concat(Object(p.a)(t.posts),[n])});case"PROFILE/SET-USER-PROFILE":return Object(h.a)(Object(h.a)({},t),{},{profile:e.profile});case"PROFILE/SET-USER-STATUS":return Object(h.a)(Object(h.a)({},t),{},{status:e.status});case"PROFILE/DELETE-POST":return Object(h.a)(Object(h.a)({},t),{},{posts:t.posts.filter((function(t){return t.id!==e.postId}))});case"PROFILE/SET-USER-AVATAR":return null!==t.profile?Object(h.a)(Object(h.a)({},t),{},{profile:Object(h.a)(Object(h.a)({},t.profile),{},{photos:Object(h.a)(Object(h.a)({},t.profile.photos),{},{small:e.image})})}):Object(h.a)({},t);default:return t}},dialogsPage:d.b,sidebar:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S;return t},usersPage:P.a,auth:k.a,form:N.a,app:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"APP/SET_INITIALIZED_DATA":return Object(h.a)(Object(h.a)({},t),{},{initialized:!0});default:return t}}}),y=Object(l.e)(E,Object(l.a)(C.a)),A=n(31),U=n(32),F=n(34),T=n(33),w=(n(253),n(11)),L=n(140),R=n.n(L),M=n(0),B=function(){return Object(M.jsx)("div",{children:Object(M.jsx)("h4",{className:R.a.title,children:"Friends"})})},D=function(t){return Object(M.jsx)("div",{children:"Settings"})},G=function(t){return Object(M.jsx)("div",{children:"News"})},H=function(t){return Object(M.jsx)("div",{children:"Music"})},z=n(100),J=n(23),Y=n.n(J),Q=n(57),W=n(69),V=n(61),q=n.n(V),K=n.p+"static/media/aboutMe.a10d925b.svg",X=n.p+"static/media/skills.f0436bc8.svg",Z=n.p+"static/media/website.d6e268d1.svg",$=n.p+"static/media/facebook.2655df86.svg",tt=n.p+"static/media/instagram.6a68a995.svg",et=n.p+"static/media/youtube.c06ffd7c.svg",nt=n.p+"static/media/twitter.24f5dc5e.svg",at=n.p+"static/media/gitHub.5a6d99cc.svg",rt=n.p+"static/media/vk.3098cb34.svg",st=n.p+"static/media/mail.8543df91.svg",it=function(t){var e=t.profile,n={facebook:$,website:Z,vk:rt,twitter:nt,instagram:tt,youtube:et,github:at,mainLink:st};return Object(M.jsxs)("div",{children:[Object(M.jsxs)("div",{className:q.a.topicUserInformation,children:[Object(M.jsxs)("p",{children:[Object(M.jsx)("b",{children:"Full name: "}),e.fullName]}),Object(M.jsxs)("p",{children:[Object(M.jsx)("b",{children:"Looking for a job: "}),e.lookingForAJob?"yes":"no"]})]}),Object(M.jsxs)("div",{className:q.a.aboutMeContainer,children:[Object(M.jsx)("div",{children:Object(M.jsx)("img",{src:K,alt:"about me icon"})}),Object(M.jsx)("p",{children:e.aboutMe})]}),Object(M.jsxs)("div",{className:q.a.skillsContainer,children:[Object(M.jsx)("div",{children:Object(M.jsx)("img",{src:X,alt:"skills icon"})}),Object(M.jsx)("p",{children:e.lookingForAJobDescription})]}),Object(M.jsx)("div",{children:Object.keys(e.contacts).map((function(t){return Object(M.jsxs)("div",{className:q.a.socialLink,children:[Object(M.jsx)("div",{children:Object(M.jsx)("img",{alt:"logo social network",src:n[t]})}),Object(M.jsx)("a",{target:"_blank",href:e.contacts[t],children:e.contacts[t]})]},t)}))})]})},ot=n(122),ct=n(133),ut=n(134),lt=n(36),dt=n(46),ft=n(18),jt=n.n(ft),bt=Object(ut.a)({form:"edit-profile"})((function(t){var e=t.handleSubmit,n=t.error,a=t.profile;return Object(M.jsxs)(ot.a,{onSubmit:e,className:jt.a.EditPersonalInformation,children:[Object(M.jsxs)("div",{className:jt.a.fullNameAndSaveBtn,children:[Object(M.jsxs)("div",{className:jt.a.marginBottomForSections,children:[Object(M.jsx)("b",{children:"Full name: "}),Object(M.jsx)(ct.a,{placeholder:"full name",maxLength:25,name:"fullName",component:lt.a,validate:[dt.b]})]}),Object(M.jsxs)("div",{className:jt.a.marginBottomForSections,children:[Object(M.jsx)("button",{className:jt.a.btnSaveProfileInfo,children:Object(M.jsx)("span",{children:"save"})}),Object(M.jsx)("div",{className:jt.a.formSummaryError,children:n})]})]}),Object(M.jsxs)("div",{className:jt.a.lookingForAJob,children:[Object(M.jsx)("b",{children:"Looking for a job: "}),Object(M.jsx)(ct.a,{name:"lookingForAJob",type:"checkbox",component:lt.a})]}),Object(M.jsxs)("div",{className:jt.a.marginBottomForSections,children:[Object(M.jsx)("b",{children:"My professional skills:"}),Object(M.jsx)(ct.a,{placeholder:"My professional skills",name:"lookingForAJobDescription",component:lt.b,validate:[dt.b]})]}),Object(M.jsxs)("div",{className:jt.a.marginBottomForSections,children:[Object(M.jsx)("b",{children:"About me:"}),Object(M.jsx)(ct.a,{placeholder:"About me",name:"AboutMe",component:lt.b})]}),Object(M.jsx)("div",{children:Object.keys(a.contacts).map((function(t){return Object(M.jsxs)("div",{className:jt.a.marginBottomForSections,children:[Object(M.jsxs)("b",{children:[t,": "]}),Object(M.jsx)(ct.a,{placeholder:t,name:"contacts.".concat(t),component:lt.a})]},t)}))})]})})),pt=n(97),ht=n.n(pt),mt=function(t){Object(F.a)(n,t);var e=Object(T.a)(n);function n(){var t;Object(A.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(t=e.call.apply(e,[this].concat(r))).state={editMode:!1,status:t.props.status},t.activateEditMode=function(){t.setState({editMode:!0})},t.deactivateEditMode=function(){t.setState({editMode:!1}),t.props.updateStatusUser(t.state.status)},t.onStatusChange=function(e){t.setState({status:e.currentTarget.value})},t}return Object(U.a)(n,[{key:"componentDidUpdate",value:function(t,e,n){t.status!==this.props.status&&this.setState({status:this.props.status})}},{key:"render",value:function(){return Object(M.jsx)("div",{children:this.state.editMode?Object(M.jsx)("input",{autoFocus:!0,onBlur:this.deactivateEditMode,value:this.state.status,onChange:this.onStatusChange,className:ht.a.profileStatusEdit,maxLength:30}):Object(M.jsx)("div",{children:Object(M.jsx)("span",{className:ht.a.profileStatus,onDoubleClick:this.activateEditMode,children:this.props.status||"----"})})})}}]),n}(r.a.Component),Ot=n.p+"static/media/pencilEdit.fa38e5a2.svg",vt=n.p+"static/media/checkMark.9977a2b1.svg",gt=n.p+"static/media/uncheckMark.1abb9e7f.svg",xt=n(41),_t=n.n(xt),St=n(42),Pt=n.n(St),kt=n.p+"static/media/heart.79a26ed6.svg",Ct=function(t){var e,n;return Object(M.jsxs)("div",{className:Pt.a.post,children:[Object(M.jsxs)("div",{className:Pt.a.topBlockPost,children:[Object(M.jsx)("div",{className:Pt.a.avatarPostContainer,children:Object(M.jsx)("img",{alt:"user avatar",src:(null===(e=t.profile)||void 0===e?void 0:e.photos.small)?t.profile.photos.small:W.a})}),Object(M.jsx)("p",{children:null===(n=t.profile)||void 0===n?void 0:n.fullName})]}),Object(M.jsx)("p",{className:Pt.a.postMessage,children:t.message}),Object(M.jsxs)("div",{className:Pt.a.likesBlock,children:[Object(M.jsx)("div",{className:Pt.a.likeHeartContainer,children:Object(M.jsx)("img",{alt:"icon likes",src:kt})}),Object(M.jsxs)("span",{children:[t.likesCount," likes"]})]})]})},Nt=Object(dt.a)(20),It=Object(ut.a)({form:"addPostForm"})((function(t){return Object(M.jsxs)(ot.a,{onSubmit:t.handleSubmit,className:_t.a.addPostBlock,children:[Object(M.jsx)("button",{className:_t.a.btnCreatePost,children:"Create post"}),Object(M.jsx)("div",{children:Object(M.jsx)(ct.a,{className:_t.a.addPostForm,component:lt.b,name:"postMessage",placeholder:"",maxLength:40,validate:[dt.b,Nt]})})]})})),Et=Object(u.b)((function(t){return{posts:t.profilePage.posts,profile:t.profilePage.profile}}),{addPost:function(t){return{type:"PROFILE/ADD-POST",postMessage:t}}})((function(t){var e=t.posts.map((function(e){return Object(M.jsx)(Ct,{message:e.message,likesCount:e.likesCount,profile:t.profile},e.id)}));return Object(M.jsxs)("div",{className:_t.a.postsContainer,children:[Object(M.jsx)(It,{onSubmit:function(e){t.addPost(e.postMessage)}}),Object(M.jsx)("div",{className:_t.a.posts,children:e})]})})),yt=function(t){var e=t.profile,n=t.status,r=t.updateStatusUser,s=t.isOwner,i=t.savePhoto,o=t.saveProfile,c=Object(a.useState)(!1),u=Object(z.a)(c,2),l=u[0],d=u[1];if(!e)return Object(M.jsx)(Q.a,{});return Object(M.jsxs)("div",{className:Y.a.profileInformationContainer,children:[Object(M.jsxs)("div",{className:Y.a.mainProfileInfo,children:[Object(M.jsxs)("div",{className:Y.a.leftBlockMainProfileInfo,children:[Object(M.jsx)("div",{className:Y.a.avaContainer,children:Object(M.jsx)("img",{alt:"user avatar",src:e.photos?e.photos.small:W.a})}),Object(M.jsxs)("div",{children:[Object(M.jsxs)("div",{className:Y.a.topBlockMainProfileInfo,children:[Object(M.jsx)("p",{className:Y.a.userName,children:e.fullName}),Object(M.jsxs)("div",{className:Y.a.searchJobStatus,children:[e.lookingForAJob?Object(M.jsx)("img",{src:vt,alt:"check mark"}):Object(M.jsx)("img",{src:gt,alt:"uncheck mark"})," Looking for a job"]})]}),Object(M.jsx)(mt,{status:n,updateStatusUser:r})]})]}),s&&Object(M.jsxs)("div",{children:[Object(M.jsxs)("div",{className:Y.a.btnEditProfile,onClick:function(){d(!0)},children:[Object(M.jsx)("img",{alt:"edit pencil",src:Ot}),Object(M.jsx)("button",{children:"edit"})]}),Object(M.jsxs)("div",{children:[Object(M.jsx)("input",{className:Y.a.inputAddUserPhoto,type:"file",id:"file",onChange:function(t){var e;(null===(e=t.target.files)||void 0===e?void 0:e.length)&&i(t.target.files[0])}}),Object(M.jsx)("label",{htmlFor:"file",className:Y.a.addUserPhoto,children:"add photo"})]})]})]}),Object(M.jsxs)("div",{className:Y.a.bottomInfoBlock,children:[Object(M.jsx)("div",{className:Y.a.userContacts,children:l?Object(M.jsx)(bt,{onSubmit:function(t){o(t).then((function(){return d(!1)}))},profile:e,initialValues:e}):Object(M.jsx)(it,{profile:e})}),Object(M.jsx)(Et,{})]})]})},At=function(t){return t.isAuth?Object(M.jsx)("div",{children:Object(M.jsx)(yt,{profile:t.profile,status:t.status,updateStatusUser:t.updateStatusUser,isOwner:t.isOwner,savePhoto:t.savePhoto,saveProfile:t.saveProfile})}):Object(M.jsx)(w.a,{to:"/login"})},Ut=function(t){Object(F.a)(n,t);var e=Object(T.a)(n);function n(){return Object(A.a)(this,n),e.apply(this,arguments)}return Object(U.a)(n,[{key:"refreshProfile",value:function(){var t=this.props.match.params.userId;t||(t=this.props.authorizedUserId?this.props.authorizedUserId.toString():this.props.history.push("/login")),this.props.getProfileUser(t),this.props.getStatusUser(t)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(t,e,n){this.props.match.params.userId!==t.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return Object(M.jsx)(At,Object(h.a)(Object(h.a)({},this.props),{},{isOwner:!this.props.match.params.userId,profile:this.props.profile,status:this.props.status,updateStatusUser:this.props.updateStatusUser,savePhoto:this.props.savePhoto,isAuth:this.props.isAuth}))}}]),n}(r.a.Component),Ft=Object(l.d)(Object(u.b)((function(t){return{profile:t.profilePage.profile,isAuth:t.auth.isAuth,status:t.profilePage.status,authorizedUserId:t.auth.id}}),{getProfileUser:_,getStatusUser:function(t){return function(){var e=Object(b.a)(j.a.mark((function e(n){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.b.getUserStatus(t);case 2:a=e.sent,n(g(a.data));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},updateStatusUser:function(t){return function(){var e=Object(b.a)(j.a.mark((function e(n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.b.updateUserStatus(t);case 2:0===e.sent.data.resultCode&&n(g(t));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},savePhoto:function(t){return function(){var e=Object(b.a)(j.a.mark((function e(n){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.b.savePhoto(t);case 2:0===(a=e.sent).data.resultCode&&n(x(a.data.data.photos.small));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},saveProfile:function(t){return function(){var e=Object(b.a)(j.a.mark((function e(n,a){var r,s,i,o,c,u;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=null===(r=a().auth.id)||void 0===r?void 0:r.toString(),i=void 0!==s?s:"1",e.next=4,m.b.saveProfile(t);case 4:if(0!==(o=e.sent).data.resultCode){e.next=9;break}n(_(i)),e.next=13;break;case 9:return c=o.data.messages[0].split("Contacts->")[1],u=c?c.substring(0,c.length-1).toLowerCase():"some error",n(Object(O.a)("edit-profile",{_error:u})),e.abrupt("return",Promise.reject("Incorrect field: ".concat(u)));case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}}),w.g)(Ut),Tt=n(12),wt=n.n(Tt),Lt=n.p+"static/media/settingsIcon.0829a49b.svg",Rt=function(t){return Object(M.jsxs)("nav",{className:wt.a.nav,children:[Object(M.jsxs)("div",{className:wt.a.pagesLinksContainer,children:[Object(M.jsx)("div",{className:wt.a.item,children:Object(M.jsx)(c.b,{to:"/profile",activeClassName:wt.a.activeLink,children:"Profile"})}),Object(M.jsx)("div",{className:"".concat(wt.a.item," ").concat(wt.a.active),children:Object(M.jsx)(c.b,{to:"/dialogs",activeClassName:wt.a.activeLink,children:"Dialogs"})}),Object(M.jsx)("div",{className:wt.a.item,children:Object(M.jsx)(c.b,{to:"/users",activeClassName:wt.a.activeLink,children:"Users"})}),Object(M.jsx)("div",{className:wt.a.item,children:Object(M.jsx)(c.b,{to:"/news",activeClassName:wt.a.activeLink,children:"News"})}),Object(M.jsx)("div",{className:wt.a.item,children:Object(M.jsx)(c.b,{to:"/music",activeClassName:wt.a.activeLink,children:"Music"})}),Object(M.jsx)("div",{className:wt.a.item,children:Object(M.jsx)(c.b,{to:"/friends",activeClassName:wt.a.activeLink,children:"Friends"})})]}),t.isAuth&&Object(M.jsxs)("div",{className:wt.a.btnsHeaderContainer,children:[Object(M.jsx)("div",{className:wt.a.settingsBtn,children:Object(M.jsxs)(c.b,{to:"/settings",activeClassName:wt.a.activeLink,children:[Object(M.jsx)("img",{alt:"icon",src:Lt}),"Settings"]})}),Object(M.jsx)("div",{className:wt.a.logInOutBtn,children:Object(M.jsx)("div",{className:wt.a.btnLogInOutContent,onClick:t.logout,children:Object(M.jsx)("button",{children:"Log out"})})})]})]})},Mt=function(t){Object(F.a)(n,t);var e=Object(T.a)(n);function n(){return Object(A.a)(this,n),e.apply(this,arguments)}return Object(U.a)(n,[{key:"render",value:function(){return Object(M.jsx)(Rt,{isAuth:this.props.isAuth,login:this.props.login,logout:this.props.logout})}}]),n}(r.a.Component),Bt=Object(l.d)(Object(u.b)((function(t){return{isAuth:t.auth.isAuth,login:t.auth.login}}),{logout:k.d}))(Mt),Dt=n(141),Gt=n.n(Dt),Ht=function(){return Object(M.jsx)("header",{className:Gt.a.header})},zt=r.a.lazy((function(){return n.e(4).then(n.bind(null,300))})),Jt=r.a.lazy((function(){return n.e(3).then(n.bind(null,301))})),Yt=r.a.lazy((function(){return n.e(5).then(n.bind(null,302))})),Qt=function(t){Object(F.a)(n,t);var e=Object(T.a)(n);function n(){return Object(A.a)(this,n),e.apply(this,arguments)}return Object(U.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?Object(M.jsxs)("div",{className:"app-wrapper",children:[Object(M.jsx)(Ht,{}),Object(M.jsx)(Bt,{}),Object(M.jsx)("div",{className:"app-wrapper-content",children:Object(M.jsx)(a.Suspense,{fallback:Object(M.jsx)(Q.a,{}),children:Object(M.jsxs)(w.d,{children:[Object(M.jsx)(w.b,{exact:!0,path:"/",render:function(){return Object(M.jsx)(w.a,{to:"/profile"})}}),Object(M.jsx)(w.b,{path:"/dialogs",render:function(){return Object(M.jsx)(zt,{})}}),Object(M.jsx)(w.b,{path:"/profile/:userId?",render:function(){return Object(M.jsx)(Ft,{})}}),Object(M.jsx)(w.b,{path:"/users",render:function(){return Object(M.jsx)(Jt,{})}}),Object(M.jsx)(w.b,{path:"/music",render:function(){return Object(M.jsx)(H,{})}}),Object(M.jsx)(w.b,{path:"/news",render:function(){return Object(M.jsx)(G,{})}}),Object(M.jsx)(w.b,{path:"/friends",render:function(){return Object(M.jsx)(B,{})}}),Object(M.jsx)(w.b,{path:"/settings",render:function(){return Object(M.jsx)(D,{})}}),Object(M.jsx)(w.b,{path:"/login",render:function(){return Object(M.jsx)(Yt,{})}}),Object(M.jsx)(w.b,{path:"*",render:function(){return Object(M.jsx)("div",{children:"404. PAGE NOT FOUND"})}})]})})})]}):Object(M.jsx)(Q.a,{})}}]),n}(a.Component),Wt=Object(l.d)(Object(u.b)((function(t){return{initialized:t.app.initialized}}),{initializeApp:function(){return function(t){t(Object(k.b)()).then((function(){t({type:"APP/SET_INITIALIZED_DATA"})}))}}}),w.g)(Qt),Vt=function(){return Object(M.jsx)(c.a,{children:Object(M.jsx)(u.a,{store:y,children:Object(M.jsx)(Wt,{})})})};o.a.render(Object(M.jsx)(r.a.StrictMode,{children:Object(M.jsx)(Vt,{})}),document.getElementById("root")),s()},36:function(t,e,n){"use strict";n.d(e,"b",(function(){return u})),n.d(e,"a",(function(){return l}));var a=n(3),r=n(75),s=(n(1),n(18)),i=n.n(s),o=n(0),c=function(t){var e=t.meta,n=e.error,a=e.touched,s=t.children,c=(Object(r.a)(t,["meta","children"]),n&&a);return Object(o.jsx)("div",{className:"".concat(i.a.formControl," ").concat(c&&i.a.error),children:s})},u=function(t){var e=t.input,n=(t.meta,Object(r.a)(t,["input","meta"]));return Object(o.jsx)(c,Object(a.a)(Object(a.a)({},t),{},{children:Object(o.jsx)("textarea",Object(a.a)(Object(a.a)({},e),n))}))},l=function(t){var e=t.input,n=(t.meta,Object(r.a)(t,["input","meta"]));return Object(o.jsx)(c,Object(a.a)(Object(a.a)({},t),{},{children:Object(o.jsx)("input",Object(a.a)(Object(a.a)({},e),n))}))}},41:function(t,e,n){t.exports={postsContainer:"MyPosts_postsContainer__c2AgU",addPostBlock:"MyPosts_addPostBlock__1chiK",btnCreatePost:"MyPosts_btnCreatePost__1D-g8",addPostForm:"MyPosts_addPostForm__YmFYt"}},42:function(t,e,n){t.exports={post:"Post_post__OwVus",topBlockPost:"Post_topBlockPost__1JeA8",avatarPostContainer:"Post_avatarPostContainer__1iHja",likeHeartContainer:"Post_likeHeartContainer__1jiXl",likesBlock:"Post_likesBlock__2S6Yr",postMessage:"Post_postMessage__3GJbO"}},45:function(t,e,n){"use strict";n.d(e,"a",(function(){return l})),n.d(e,"b",(function(){return j})),n.d(e,"c",(function(){return b})),n.d(e,"d",(function(){return p}));var a=n(10),r=n.n(a),s=n(14),i=n(3),o=n(15),c=n(38),u={id:null,email:null,login:null,isFetching:!1,isAuth:!1,captchaUrl:null},l=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"AUTH/SET_USER_DATA":case"AUTH/GET_CAPTCHA_URL":return Object(i.a)(Object(i.a)({},t),e.payload);default:return t}},d=function(t,e,n,a){return{type:"AUTH/SET_USER_DATA",payload:{id:t,email:e,login:n,isAuth:a}}},f=function(t){return{type:"AUTH/GET_CAPTCHA_URL",payload:{captchaUrl:t}}},j=function(){return function(){var t=Object(s.a)(r.a.mark((function t(e){var n,a,s,i,c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.me();case 2:0===(n=t.sent).data.resultCode&&(a=n.data.data,s=a.id,i=a.email,c=a.login,e(d(s,i,c,!0)));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},b=function(t,e,n,a){return function(){var i=Object(s.a)(r.a.mark((function s(i){var u,l;return r.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,o.a.login(t,e,n,a);case 2:0===(u=r.sent).data.resultCode?(i(j()),i(f(null))):(10===u.data.resultCode&&i(h()),l=u.data.messages.length>0?u.data.messages[0]:"Some error",i(Object(c.a)("login",{_error:l})));case 4:case"end":return r.stop()}}),s)})));return function(t){return i.apply(this,arguments)}}()},p=function(){return function(){var t=Object(s.a)(r.a.mark((function t(e){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.logout();case 2:0===t.sent.data.resultCode&&e(d(null,null,null,!1));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},h=function(){return function(){var t=Object(s.a)(r.a.mark((function t(e){var n,a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.c.getCaptchaUrl();case 2:n=t.sent,a=n.data.url,e(f(a));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},46:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return r}));var a=function(t){if(!t)return"Field is required"},r=function(t){return function(e){if(e&&e.length>t)return"Max length is ".concat(t," symbols")}}},57:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));n(1);var a=n.p+"static/media/preloader.15634106.svg",r=n(0),s=function(){return Object(r.jsx)("div",{children:Object(r.jsx)("img",{alt:"preloader",src:a})})}},61:function(t,e,n){t.exports={topicUserInformation:"ProfileData_topicUserInformation__1jrt7",aboutMeContainer:"ProfileData_aboutMeContainer__nAg6o",skillsContainer:"ProfileData_skillsContainer__1jCra",contactsContainer:"ProfileData_contactsContainer__1Gqpo",socialLink:"ProfileData_socialLink__1UFof"}},69:function(t,e,n){"use strict";e.a=n.p+"static/media/userPhoto.22c31152.png"},97:function(t,e,n){t.exports={profileStatus:"ProfileStatus_profileStatus__2rvo_",profileStatusEdit:"ProfileStatus_profileStatusEdit__I2nch"}}},[[294,1,2]]]);
//# sourceMappingURL=main.123a3ac3.chunk.js.map