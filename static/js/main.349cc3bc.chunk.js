(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{107:function(t,e,n){"use strict";n.d(e,"a",(function(){return l})),n.d(e,"b",(function(){return b})),n.d(e,"c",(function(){return O})),n.d(e,"e",(function(){return h})),n.d(e,"d",(function(){return m})),n.d(e,"f",(function(){return v}));var r=n(10),a=n.n(r),s=n(15),i=n(47),c=n(3),o=n(16),u={items:[],pageSize:5,currentPage:1,totalCount:0,isFetching:!0,startPage:1,followingInProgress:[]},l=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"USERS/FOLLOW":return Object(c.a)(Object(c.a)({},t),{},{items:t.items.map((function(t){return t.id===e.userId?Object(c.a)(Object(c.a)({},t),{},{followed:!0}):t}))});case"USERS/UNFOLLOW":return Object(c.a)(Object(c.a)({},t),{},{items:t.items.map((function(t){return t.id===e.userId?Object(c.a)(Object(c.a)({},t),{},{followed:!1}):t}))});case"USERS/SET-USERS":return Object(c.a)(Object(c.a)({},t),{},{items:e.users});case"USERS/SET-TOTAL-USERS-COUNT":return Object(c.a)(Object(c.a)({},t),{},{totalCount:e.totalCount});case"USERS/CHANGE-CURRENT-PAGE":return Object(c.a)(Object(c.a)({},t),{},{currentPage:e.currentPage});case"TOGGLE-IS-FETCHING":return Object(c.a)(Object(c.a)({},t),{},{isFetching:e.isFetching});case"CHANGE-START-PAGE":return Object(c.a)(Object(c.a)({},t),{},{startPage:e.pageNumber});case"TOGGLE-IS-FOLLOWING-PROGRESS":return Object(c.a)(Object(c.a)({},t),{},{followingInProgress:e.isFollowing?[].concat(Object(i.a)(t.followingInProgress),[e.userId]):t.followingInProgress.filter((function(t){return t!==e.userId}))});default:return t}},d=function(t){return{type:"USERS/FOLLOW",userId:t}},j=function(t){return{type:"USERS/UNFOLLOW",userId:t}},b=function(t){return{type:"USERS/CHANGE-CURRENT-PAGE",currentPage:t}},f=function(t){return{type:"TOGGLE-IS-FETCHING",isFetching:t}},p=function(t,e){return{type:"TOGGLE-IS-FOLLOWING-PROGRESS",isFollowing:t,userId:e}},O=function(t){return{type:"CHANGE-START-PAGE",pageNumber:t}},h=function(t,e){return function(){var n=Object(s.a)(a.a.mark((function n(r){var s;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(f(!0)),r(b(t)),n.next=4,o.d.getUsers(t,e);case 4:s=n.sent,r(f(!1)),r({type:"USERS/SET-USERS",users:s.data.items}),r({type:"USERS/SET-TOTAL-USERS-COUNT",totalCount:s.data.totalCount});case 8:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()},m=function(t){return function(){var e=Object(s.a)(a.a.mark((function e(n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(p(!0,t)),e.next=3,o.d.followUser(t);case 3:!e.sent.data.resultCode&&n(d(t)),n(p(!1,t));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},v=function(t){return function(){var e=Object(s.a)(a.a.mark((function e(n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(p(!0,t)),e.next=3,o.d.unFollowUser(t);case 3:!e.sent.data.resultCode&&n(j(t)),n(p(!1,t));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},118:function(t,e,n){"use strict";e.a=n.p+"static/media/userPhoto.22c31152.png"},12:function(t,e,n){t.exports={nav:"Navbar_nav__3cPQl",pagesLinksContainer:"Navbar_pagesLinksContainer__1HzLT",item:"Navbar_item__1qTnH",activeLink:"Navbar_activeLink__1bbTB",settingsBtn:"Navbar_settingsBtn__2X2QR",tab_friend:"Navbar_tab_friend__2JyUZ",title_friend:"Navbar_title_friend__1nula",btnsHeaderContainer:"Navbar_btnsHeaderContainer__29eOb",logInOutBtn:"Navbar_logInOutBtn__3-bbY",logOutBtnContainer:"Navbar_logOutBtnContainer__yeor2",btnLogInOutContent:"Navbar_btnLogInOutContent__3sqPa"}},138:function(t,e,n){},139:function(t,e,n){t.exports={profileStatus:"ProfileStatus_profileStatus__2rvo_"}},14:function(t,e,n){t.exports={profileInformationContainer:"ProfileInfo_profileInformationContainer__3iTIt",mainProfileInfo:"ProfileInfo_mainProfileInfo__2ua5_",leftBlockMainProfileInfo:"ProfileInfo_leftBlockMainProfileInfo__GQyTp",topBlockMainProfileInfo:"ProfileInfo_topBlockMainProfileInfo__3p-zR",bottomInfoBlock:"ProfileInfo_bottomInfoBlock__3TI9m",userName:"ProfileInfo_userName__1Qku4",avaContainer:"ProfileInfo_avaContainer__CRg3I",btnEditProfile:"ProfileInfo_btnEditProfile__3GiLO",addUserPhoto:"ProfileInfo_addUserPhoto__32Dbf",searchJobStatus:"ProfileInfo_searchJobStatus__7vTVg",inputAddUserPhoto:"ProfileInfo_inputAddUserPhoto__3_XUC",userContacts:"ProfileInfo_userContacts__3aELh"}},140:function(t,e,n){t.exports={item:"Post_item__2Jbho"}},141:function(t,e,n){t.exports={header:"Header_header__18STJ"}},16:function(t,e,n){"use strict";n.d(e,"d",(function(){return s})),n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return c})),n.d(e,"c",(function(){return o}));var r=n(135),a=n.n(r).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"528fa1c0-cacc-47ff-ae93-32ce73ccde7f"}}),s={getUsers:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return a.get("users?page=".concat(t,"&count=").concat(e))},unFollowUser:function(t){return a.delete("follow/".concat(t))},followUser:function(t){return a.post("follow/".concat(t))}},i={me:function(){return a.get("auth/me")},login:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return a.post("auth/login",{email:t,password:e,rememberMe:n,captcha:r})},logout:function(){return a.delete("auth/login")}},c={getProfileUser:function(t){return a.get("profile/".concat(t))},getUserStatus:function(t){return a.get("profile/status/".concat(t))},updateUserStatus:function(t){return a.put("profile/status",{status:t})},savePhoto:function(t){var e=new FormData;return e.append("image",t),a.put("/profile/photo",e,{headers:{"Content-Type":"multipart/form-data"}})},saveProfile:function(t){return a.put("profile",t)}},o={getCaptchaUrl:function(){return a.get("security/get-captcha-url")}}},170:function(t,e,n){},253:function(t,e,n){},294:function(t,e,n){"use strict";n.r(e);var r=n(1),a=n.n(r),s=function(t){t&&t instanceof Function&&n.e(6).then(n.bind(null,299)).then((function(e){var n=e.getCLS,r=e.getFID,a=e.getFCP,s=e.getLCP,i=e.getTTFB;n(t),r(t),a(t),s(t),i(t)}))},i=n(68),c=n.n(i),o=(n(170),n(20)),u=n(17),l=n(9),d=n(97),j=n(10),b=n.n(j),f=n(15),p=n(47),O=n(3),h=n(16),m=n(37),v={posts:[{id:1,message:"Hi, how are you?",likesCount:3},{id:2,message:"It's my first post",likesCount:12},{id:3,message:"It's my second post",likesCount:1},{id:4,message:"It's my third post",likesCount:3}],profile:null,status:""},g=function(t){return{type:"PROFILE/SET-USER-STATUS",status:t}},x=function(t){return{type:"PROFILE/SET-USER-AVATAR",image:t}},_=function(t){return function(){var e=Object(f.a)(b.a.mark((function e(n){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.b.getProfileUser(t);case 2:r=e.sent,n({type:"PROFILE/SET-USER-PROFILE",profile:r.data});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},S={},P=n(107),C=n(42),I=n(136),E=n(133),N={initialized:!1},k=Object(l.c)({profilePage:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"PROFILE/ADD-POST":var n={id:(new Date).getTime(),message:e.postMessage,likesCount:0};return Object(O.a)(Object(O.a)({},t),{},{posts:[].concat(Object(p.a)(t.posts),[n])});case"PROFILE/SET-USER-PROFILE":return Object(O.a)(Object(O.a)({},t),{},{profile:e.profile});case"PROFILE/SET-USER-STATUS":return Object(O.a)(Object(O.a)({},t),{},{status:e.status});case"PROFILE/DELETE-POST":return Object(O.a)(Object(O.a)({},t),{},{posts:t.posts.filter((function(t){return t.id!==e.postId}))});case"PROFILE/SET-USER-AVATAR":return null!==t.profile?Object(O.a)(Object(O.a)({},t),{},{profile:Object(O.a)(Object(O.a)({},t.profile),{},{photos:Object(O.a)(Object(O.a)({},t.profile.photos),{},{small:e.image})})}):Object(O.a)({},t);default:return t}},dialogsPage:d.b,sidebar:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S;return t},usersPage:P.a,auth:C.a,form:E.a,app:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"APP/SET_INITIALIZED_DATA":return Object(O.a)(Object(O.a)({},t),{},{initialized:!0});default:return t}}}),y=Object(l.e)(k,Object(l.a)(I.a)),U=n(30),A=n(31),T=n(33),w=n(32),L=(n(253),n(11)),F=n(138),R=n.n(F),M=n(0),G=function(){return Object(M.jsx)("div",{children:Object(M.jsx)("h4",{className:R.a.title,children:"Friends"})})},D=function(t){return Object(M.jsx)("div",{children:"Settings"})},B=function(t){return Object(M.jsx)("div",{children:"News"})},H=function(t){return Object(M.jsx)("div",{children:"Music"})},z=n(132),J=n(14),V=n.n(J),W=n(55),Q=n(118),Y=function(t){var e=t.profile;return Object(M.jsxs)("div",{children:[Object(M.jsxs)("p",{className:V.a.user_name,children:[Object(M.jsx)("b",{children:"Full name: "}),e.fullName]}),Object(M.jsxs)("p",{children:[Object(M.jsx)("b",{children:"Looking for a job: "}),e.lookingForAJob?"yes":"no"]}),Object(M.jsxs)("p",{className:V.a.user_information,children:[Object(M.jsx)("b",{children:"About me: "}),e.aboutMe]}),Object(M.jsxs)("p",{className:V.a.user_information,children:[Object(M.jsx)("b",{children:"My professional skills: "}),e.lookingForAJobDescription]}),Object(M.jsxs)("p",{className:V.a.user_information,children:["Web Site: ",e.contacts.facebook]}),Object(M.jsxs)("div",{children:[Object(M.jsx)("b",{children:"Contacts"}),Object.keys(e.contacts).map((function(t){return Object(M.jsxs)("div",{children:[Object(M.jsxs)("p",{children:[t,":"]}),Object(M.jsx)("p",{children:e.contacts[t]})]},t)}))]})]})},q=n(119),Z=n(130),X=n(131),K=n(35),$=n(43),tt=n(52),et=n.n(tt),nt=Object(X.a)({form:"edit-profile"})((function(t){var e=t.handleSubmit,n=t.error,r=t.profile;return Object(M.jsxs)(q.a,{onSubmit:e,children:[Object(M.jsx)("div",{children:Object(M.jsx)("button",{children:"save"})}),n&&Object(M.jsxs)("div",{className:et.a.formSummaryError,children:["Incorrect field: ",n]}),Object(M.jsxs)("div",{children:[Object(M.jsx)("b",{children:"Full name: "}),Object(M.jsx)(Z.a,{placeholder:"full name",name:"fullName",component:K.a,validate:[$.b]})]}),Object(M.jsxs)("div",{children:[Object(M.jsx)("b",{children:"Looking for a job: "}),Object(M.jsx)(Z.a,{name:"lookingForAJob",type:"checkbox",component:K.a})]}),Object(M.jsxs)("div",{children:[Object(M.jsx)("b",{children:"My professional skills:"}),Object(M.jsx)(Z.a,{placeholder:"My professional skills",name:"lookingForAJobDescription",component:K.b,validate:[$.b]})]}),Object(M.jsxs)("div",{children:[Object(M.jsx)("b",{children:"About me:"}),Object(M.jsx)(Z.a,{placeholder:"About me",name:"AboutMe",component:K.b})]}),Object(M.jsxs)("div",{children:[Object(M.jsx)("b",{children:"Contacts"}),Object.keys(r.contacts).map((function(t){return Object(M.jsxs)("div",{children:[Object(M.jsxs)("b",{children:[t,": "]}),Object(M.jsx)(Z.a,{placeholder:t,name:"contacts.".concat(t),component:K.a})]},t)}))]})]})})),rt=n(139),at=n.n(rt),st=function(t){Object(T.a)(n,t);var e=Object(w.a)(n);function n(){var t;Object(U.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(t=e.call.apply(e,[this].concat(a))).state={editMode:!1,status:t.props.status},t.activateEditMode=function(){t.setState({editMode:!0})},t.deactivateEditMode=function(){t.setState({editMode:!1}),t.props.updateStatusUser(t.state.status)},t.onStatusChange=function(e){t.setState({status:e.currentTarget.value})},t}return Object(A.a)(n,[{key:"componentDidUpdate",value:function(t,e,n){t.status!==this.props.status&&this.setState({status:this.props.status})}},{key:"render",value:function(){return Object(M.jsx)("div",{children:this.state.editMode?Object(M.jsx)("div",{children:Object(M.jsx)("input",{autoFocus:!0,onBlur:this.deactivateEditMode,value:this.state.status,onChange:this.onStatusChange})}):Object(M.jsx)("div",{children:Object(M.jsx)("span",{className:at.a.profileStatus,onDoubleClick:this.activateEditMode,children:this.props.status||"----"})})})}}]),n}(a.a.Component),it=n.p+"static/media/pencilEdit.fa38e5a2.svg",ct=n.p+"static/media/checkMark.9977a2b1.svg",ot=n.p+"static/media/uncheckMark.1abb9e7f.svg",ut=n(48),lt=n.n(ut),dt=n(140),jt=n.n(dt),bt=function(t){return Object(M.jsxs)("div",{className:jt.a.item,children:[Object(M.jsx)("img",{alt:"img-post",src:"https://upload.wikimedia.org/wikipedia/commons/thumb/3/33/Mr._Bean_2011.jpg/280px-Mr._Bean_2011.jpg"}),t.message,Object(M.jsxs)("p",{children:["Like ",t.likesCount]})]})},ft=Object($.a)(20),pt=Object(X.a)({form:"addPostForm"})((function(t){return Object(M.jsxs)(q.a,{onSubmit:t.handleSubmit,children:[Object(M.jsx)("div",{children:Object(M.jsx)(Z.a,{className:lt.a.input_news,component:K.b,name:"postMessage",placeholder:"post message",validate:[$.b,ft]})}),Object(M.jsx)("div",{children:Object(M.jsx)("button",{children:"Add post"})})]})})),Ot=Object(u.b)((function(t){return{posts:t.profilePage.posts}}),{addPost:function(t){return{type:"PROFILE/ADD-POST",postMessage:t}}})((function(t){var e=t.posts.map((function(t){return Object(M.jsx)(bt,{message:t.message,likesCount:t.likesCount},t.id)}));return Object(M.jsxs)("div",{className:lt.a.postsContainer,children:[Object(M.jsx)("h3",{className:lt.a.title_posts,children:"My posts"}),Object(M.jsx)(pt,{onSubmit:function(e){t.addPost(e.postMessage)}}),Object(M.jsx)("div",{className:lt.a.posts,children:e})]})})),ht=function(t){var e=t.profile,n=t.status,a=t.updateStatusUser,s=t.isOwner,i=t.savePhoto,c=t.saveProfile,o=Object(r.useState)(!1),u=Object(z.a)(o,2),l=u[0],d=u[1];if(!e)return Object(M.jsx)(W.a,{});return Object(M.jsxs)("div",{className:V.a.profileInformationContainer,children:[Object(M.jsxs)("div",{className:V.a.mainProfileInfo,children:[Object(M.jsxs)("div",{className:V.a.leftBlockMainProfileInfo,children:[Object(M.jsx)("div",{className:V.a.avaContainer,children:Object(M.jsx)("img",{alt:"user avatar",src:e.photos?e.photos.small:Q.a})}),Object(M.jsxs)("div",{children:[Object(M.jsxs)("div",{className:V.a.topBlockMainProfileInfo,children:[Object(M.jsx)("p",{className:V.a.userName,children:e.fullName}),Object(M.jsxs)("div",{className:V.a.searchJobStatus,children:[e.lookingForAJob?Object(M.jsx)("img",{src:ct,alt:"check mark"}):Object(M.jsx)("img",{src:ot,alt:"uncheck mark"})," Looking for a job"]})]}),Object(M.jsx)(st,{status:n,updateStatusUser:a})]})]}),s&&Object(M.jsxs)("div",{children:[Object(M.jsxs)("div",{className:V.a.btnEditProfile,onClick:function(){d(!0)},children:[Object(M.jsx)("img",{alt:"edit pencil",src:it}),Object(M.jsx)("button",{children:"edit"})]}),Object(M.jsxs)("div",{children:[Object(M.jsx)("input",{className:V.a.inputAddUserPhoto,type:"file",id:"file",onChange:function(t){var e;(null===(e=t.target.files)||void 0===e?void 0:e.length)&&i(t.target.files[0])}}),Object(M.jsx)("label",{htmlFor:"file",className:V.a.addUserPhoto,children:"add photo"})]})]})]}),Object(M.jsxs)("div",{className:V.a.bottomInfoBlock,children:[Object(M.jsx)("div",{className:V.a.userContacts,children:l?Object(M.jsx)(nt,{onSubmit:function(t){c(t).then((function(){return d(!1)}))},profile:e,initialValues:e}):Object(M.jsx)(Y,{profile:e})}),Object(M.jsx)(Ot,{})]})]})},mt=function(t){return t.isAuth?Object(M.jsx)("div",{children:Object(M.jsx)(ht,{profile:t.profile,status:t.status,updateStatusUser:t.updateStatusUser,isOwner:t.isOwner,savePhoto:t.savePhoto,saveProfile:t.saveProfile})}):Object(M.jsx)(L.a,{to:"/login"})},vt=function(t){Object(T.a)(n,t);var e=Object(w.a)(n);function n(){return Object(U.a)(this,n),e.apply(this,arguments)}return Object(A.a)(n,[{key:"refreshProfile",value:function(){var t=this.props.match.params.userId;t||(t=this.props.authorizedUserId?this.props.authorizedUserId.toString():this.props.history.push("/login")),this.props.getProfileUser(t),this.props.getStatusUser(t)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(t,e,n){this.props.match.params.userId!==t.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return Object(M.jsx)(mt,Object(O.a)(Object(O.a)({},this.props),{},{isOwner:!this.props.match.params.userId,profile:this.props.profile,status:this.props.status,updateStatusUser:this.props.updateStatusUser,savePhoto:this.props.savePhoto,isAuth:this.props.isAuth}))}}]),n}(a.a.Component),gt=Object(l.d)(Object(u.b)((function(t){return{profile:t.profilePage.profile,isAuth:t.auth.isAuth,status:t.profilePage.status,authorizedUserId:t.auth.id}}),{getProfileUser:_,getStatusUser:function(t){return function(){var e=Object(f.a)(b.a.mark((function e(n){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.b.getUserStatus(t);case 2:r=e.sent,n(g(r.data));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},updateStatusUser:function(t){return function(){var e=Object(f.a)(b.a.mark((function e(n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.b.updateUserStatus(t);case 2:0===e.sent.data.resultCode&&n(g(t));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},savePhoto:function(t){return function(){var e=Object(f.a)(b.a.mark((function e(n){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.b.savePhoto(t);case 2:0===(r=e.sent).data.resultCode&&n(x(r.data.data.photos.small));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},saveProfile:function(t){return function(){var e=Object(f.a)(b.a.mark((function e(n,r){var a,s,i,c,o,u;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=null===(a=r().auth.id)||void 0===a?void 0:a.toString(),i=void 0!==s?s:"1",e.next=4,h.b.saveProfile(t);case 4:if(0!==(c=e.sent).data.resultCode){e.next=9;break}n(_(i)),e.next=13;break;case 9:return o=c.data.messages[0].split("Contacts->")[1],u=o.substring(0,o.length-1).toLowerCase(),n(Object(m.a)("edit-profile",{_error:u})),e.abrupt("return",Promise.reject("Incorrect field: ".concat(u)));case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}}),L.g)(vt),xt=n(12),_t=n.n(xt),St=n.p+"static/media/settingsIcon.0829a49b.svg",Pt=n.p+"static/media/logOutIcon.7a3991da.svg",Ct=function(t){return Object(M.jsxs)("nav",{className:_t.a.nav,children:[Object(M.jsxs)("div",{className:_t.a.pagesLinksContainer,children:[Object(M.jsx)("div",{className:_t.a.item,children:Object(M.jsx)(o.b,{to:"/profile",activeClassName:_t.a.activeLink,children:"Profile"})}),Object(M.jsx)("div",{className:"".concat(_t.a.item," ").concat(_t.a.active),children:Object(M.jsx)(o.b,{to:"/dialogs",activeClassName:_t.a.activeLink,children:"Messages"})}),Object(M.jsx)("div",{className:_t.a.item,children:Object(M.jsx)(o.b,{to:"/users",activeClassName:_t.a.activeLink,children:"Users"})}),Object(M.jsx)("div",{className:_t.a.item,children:Object(M.jsx)(o.b,{to:"/news",activeClassName:_t.a.activeLink,children:"News"})}),Object(M.jsx)("div",{className:_t.a.item,children:Object(M.jsx)(o.b,{to:"/music",activeClassName:_t.a.activeLink,children:"Music"})}),Object(M.jsx)("div",{className:_t.a.item,children:Object(M.jsx)(o.b,{to:"/friends",activeClassName:_t.a.activeLink,children:"Friends"})})]}),Object(M.jsxs)("div",{className:_t.a.btnsHeaderContainer,children:[Object(M.jsx)("div",{className:_t.a.settingsBtn,children:Object(M.jsxs)(o.b,{to:"/settings",activeClassName:_t.a.activeLink,children:[Object(M.jsx)("img",{alt:"icon",src:St}),"Settings"]})}),Object(M.jsx)("div",{className:_t.a.logInOutBtn,children:t.isAuth?Object(M.jsxs)("div",{className:_t.a.logOutBtnContainer,children:[Object(M.jsx)("img",{alt:"icon",src:Pt}),Object(M.jsx)("div",{className:_t.a.btnLogInOutContent,children:Object(M.jsx)("button",{onClick:t.logout,children:"Log out"})})]}):Object(M.jsxs)(o.b,{to:"/login",children:[Object(M.jsx)("img",{alt:"icon",src:Pt}),Object(M.jsx)("div",{className:_t.a.btnLogInOutContent,children:"Login"})]})})]})]})},It=function(t){Object(T.a)(n,t);var e=Object(w.a)(n);function n(){return Object(U.a)(this,n),e.apply(this,arguments)}return Object(A.a)(n,[{key:"render",value:function(){return Object(M.jsx)(Ct,{isAuth:this.props.isAuth,login:this.props.login,logout:this.props.logout})}}]),n}(a.a.Component),Et=Object(l.d)(Object(u.b)((function(t){return{isAuth:t.auth.isAuth,login:t.auth.login}}),{logout:C.d}))(It),Nt=n(141),kt=n.n(Nt),yt=function(){return Object(M.jsx)("header",{className:kt.a.header})},Ut=a.a.lazy((function(){return n.e(4).then(n.bind(null,300))})),At=a.a.lazy((function(){return n.e(3).then(n.bind(null,301))})),Tt=a.a.lazy((function(){return n.e(5).then(n.bind(null,302))})),wt=function(t){Object(T.a)(n,t);var e=Object(w.a)(n);function n(){return Object(U.a)(this,n),e.apply(this,arguments)}return Object(A.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?Object(M.jsxs)("div",{className:"app-wrapper",children:[Object(M.jsx)(yt,{}),Object(M.jsx)(Et,{}),Object(M.jsx)("div",{className:"app-wrapper-content",children:Object(M.jsx)(r.Suspense,{fallback:Object(M.jsx)(W.a,{}),children:Object(M.jsxs)(L.d,{children:[Object(M.jsx)(L.b,{exact:!0,path:"/",render:function(){return Object(M.jsx)(L.a,{to:"/profile"})}}),Object(M.jsx)(L.b,{path:"/dialogs",render:function(){return Object(M.jsx)(Ut,{})}}),Object(M.jsx)(L.b,{path:"/profile/:userId?",render:function(){return Object(M.jsx)(gt,{})}}),Object(M.jsx)(L.b,{path:"/users",render:function(){return Object(M.jsx)(At,{})}}),Object(M.jsx)(L.b,{path:"/music",render:function(){return Object(M.jsx)(H,{})}}),Object(M.jsx)(L.b,{path:"/news",render:function(){return Object(M.jsx)(B,{})}}),Object(M.jsx)(L.b,{path:"/friends",render:function(){return Object(M.jsx)(G,{})}}),Object(M.jsx)(L.b,{path:"/settings",render:function(){return Object(M.jsx)(D,{})}}),Object(M.jsx)(L.b,{path:"/login",render:function(){return Object(M.jsx)(Tt,{})}}),Object(M.jsx)(L.b,{path:"*",render:function(){return Object(M.jsx)("div",{children:"404. PAGE NOT FOUND"})}})]})})})]}):Object(M.jsx)(W.a,{})}}]),n}(r.Component),Lt=Object(l.d)(Object(u.b)((function(t){return{initialized:t.app.initialized}}),{initializeApp:function(){return function(t){t(Object(C.b)()).then((function(){t({type:"APP/SET_INITIALIZED_DATA"})}))}}}),L.g)(wt),Ft=function(){return Object(M.jsx)(o.a,{children:Object(M.jsx)(u.a,{store:y,children:Object(M.jsx)(Lt,{})})})};c.a.render(Object(M.jsx)(a.a.StrictMode,{children:Object(M.jsx)(Ft,{})}),document.getElementById("root")),s()},35:function(t,e,n){"use strict";n.d(e,"b",(function(){return u})),n.d(e,"a",(function(){return l}));var r=n(3),a=n(72),s=(n(1),n(52)),i=n.n(s),c=n(0),o=function(t){var e=t.meta,n=e.error,r=e.touched,s=t.children,o=(Object(a.a)(t,["meta","children"]),n&&r);return Object(c.jsxs)("div",{className:"".concat(i.a.formControl," ").concat(o&&i.a.error),children:[s,o&&Object(c.jsx)("span",{children:n})]})},u=function(t){var e=t.input,n=(t.meta,Object(a.a)(t,["input","meta"]));return Object(c.jsx)(o,Object(r.a)(Object(r.a)({},t),{},{children:Object(c.jsx)("textarea",Object(r.a)(Object(r.a)({},e),n))}))},l=function(t){var e=t.input,n=(t.meta,Object(a.a)(t,["input","meta"]));return Object(c.jsx)(o,Object(r.a)(Object(r.a)({},t),{},{children:Object(c.jsx)("input",Object(r.a)(Object(r.a)({},e),n))}))}},42:function(t,e,n){"use strict";n.d(e,"a",(function(){return l})),n.d(e,"b",(function(){return b})),n.d(e,"c",(function(){return f})),n.d(e,"d",(function(){return p}));var r=n(10),a=n.n(r),s=n(15),i=n(3),c=n(16),o=n(37),u={id:null,email:null,login:null,isFetching:!1,isAuth:!1,captchaUrl:null},l=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"AUTH/SET_USER_DATA":case"AUTH/GET_CAPTCHA_URL":return Object(i.a)(Object(i.a)({},t),e.payload);default:return t}},d=function(t,e,n,r){return{type:"AUTH/SET_USER_DATA",payload:{id:t,email:e,login:n,isAuth:r}}},j=function(t){return{type:"AUTH/GET_CAPTCHA_URL",payload:{captchaUrl:t}}},b=function(){return function(){var t=Object(s.a)(a.a.mark((function t(e){var n,r,s,i,o;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.me();case 2:0===(n=t.sent).data.resultCode&&(r=n.data.data,s=r.id,i=r.email,o=r.login,e(d(s,i,o,!0)));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},f=function(t,e,n,r){return function(){var i=Object(s.a)(a.a.mark((function s(i){var u,l;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,c.a.login(t,e,n,r);case 2:0===(u=a.sent).data.resultCode?(i(b()),i(j(null))):(10===u.data.resultCode&&i(O()),l=u.data.messages.length>0?u.data.messages[0]:"Some error",i(Object(o.a)("login",{_error:l})));case 4:case"end":return a.stop()}}),s)})));return function(t){return i.apply(this,arguments)}}()},p=function(){return function(){var t=Object(s.a)(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.logout();case 2:0===t.sent.data.resultCode&&e(d(null,null,null,!1));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},O=function(){return function(){var t=Object(s.a)(a.a.mark((function t(e){var n,r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.c.getCaptchaUrl();case 2:n=t.sent,r=n.data.url,e(j(r));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},43:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return a}));var r=function(t){if(!t)return"Field is required"},a=function(t){return function(e){if(e&&e.length>t)return"Max length is ".concat(t," symbols")}}},48:function(t,e,n){t.exports={postsContainer:"MyPosts_postsContainer__c2AgU",title_posts:"MyPosts_title_posts__2t4pq",input_news:"MyPosts_input_news__2IJAu"}},52:function(t,e,n){t.exports={formControl:"FormsControls_formControl__2cpQF",error:"FormsControls_error__3gzUc",formSummaryError:"FormsControls_formSummaryError__1yNyJ"}},55:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));n(1);var r=n.p+"static/media/preloader.15634106.svg",a=n(0),s=function(){return Object(a.jsx)("div",{children:Object(a.jsx)("img",{alt:"preloader",src:r})})}},97:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return c}));var r=n(47),a=n(3),s={dialogs:[{id:"1",name:"Vania"},{id:"2",name:"Andrey"},{id:"3",name:"Sveta"},{id:"4",name:"Sasha"},{id:"5",name:"Victor"},{id:"6",name:"Valera"}],messages:[{id:1,message:"Hi"},{id:2,message:"How is your it-kamasutra?"},{id:3,message:"Yo"},{id:4,message:"Yo"},{id:5,message:"Yo"}]},i=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"DIALOGS/ADD-MESSAGE":var n={id:(new Date).getTime(),message:e.message};return Object(a.a)(Object(a.a)({},t),{},{messages:[].concat(Object(r.a)(t.messages),[n])});default:return t}},c=function(t){return{type:"DIALOGS/ADD-MESSAGE",message:t}}}},[[294,1,2]]]);
//# sourceMappingURL=main.349cc3bc.chunk.js.map