{"version":3,"sources":["components/Login/LoginForm.tsx","components/Login/Login.tsx"],"names":["LoginReduxForm","reduxForm","form","handleSubmit","error","captchaUrl","Form","onSubmit","style","width","Field","placeholder","name","component","Input","validate","required","type","alt","src","className","s","formSummaryError","connect","state","isAuth","auth","login","props","to","formData","email","password","rememberMe","captcha"],"mappings":"2LAqEaA,EAAiBC,YAAuC,CAACC,KAAM,SAA9CD,EAnDqE,SAAC,GAAuC,IAAtCE,EAAqC,EAArCA,aAAcC,EAAuB,EAAvBA,MAAOC,EAAgB,EAAhBA,WACtH,OACI,eAACC,EAAA,EAAD,CAAMC,SAAUJ,EAAcK,MAAO,CAACC,MAAO,SAA7C,UACI,8BACI,cAACC,EAAA,EAAD,CACIC,YAAa,QACbC,KAAM,QACNC,UAAWC,IACXC,SAAU,CAACC,SAGnB,8BACI,cAACN,EAAA,EAAD,CACIC,YAAa,WACbC,KAAM,WACNC,UAAWC,IACXC,SAAU,CAACC,SAGnB,gCACI,cAACN,EAAA,EAAD,CACIO,KAAM,WACNL,KAAM,aACNC,UAAWC,IACXC,SAAU,CAACC,OALnB,iBAUCX,GAAc,qBAAKa,IAAK,UAAWC,IAAKd,IACxCA,GACD,cAACK,EAAA,EAAD,CACIC,YAAa,UACbC,KAAM,UACNC,UAAWC,IACXC,SAAU,CAACC,OAGdZ,GACD,qBAAKgB,UAAWC,IAAEC,iBAAlB,SACKlB,IAGL,8BACI,mD,wBClBDmB,uBA5BO,SAACC,GACnB,MAAO,CACHC,OAAQD,EAAME,KAAKD,OACnBpB,WAAYmB,EAAME,KAAKrB,cAyBS,CAACsB,WAA1BJ,EAnBD,SAACK,GAOX,OAAIA,EAAMH,OACC,cAAC,IAAD,CAAUI,GAAI,aAIrB,gCACI,uCACA,cAAC7B,EAAD,CAAgBO,SAbP,SAACuB,GAA4B,IACnCC,EAAwCD,EAAxCC,MAAOC,EAAiCF,EAAjCE,SAAUC,EAAuBH,EAAvBG,WAAYC,EAAWJ,EAAXI,QAEpCN,EAAMD,MAAMI,EAAOC,EAAUC,EAAYC,IAUD7B,WAAYuB,EAAMvB","file":"static/js/5.f10682fb.chunk.js","sourcesContent":["import React from \"react\";\r\nimport {Field, Form, InjectedFormProps, reduxForm} from \"redux-form\";\r\nimport {Input} from \"../common/FormsControls/FormsControls\";\r\nimport {required} from \"../../utils/validators/validators\";\r\nimport s from '../common/FormsControls/FormsControls.module.scss'\r\n\r\nexport type FormDataType = {\r\n    email: string\r\n    password: string\r\n    rememberMe: boolean\r\n    error: string\r\n    captcha: string\r\n}\r\n\r\ntype LoginFormType = {\r\n    captchaUrl: null | string\r\n}\r\n\r\nexport const LoginForm: React.FC<InjectedFormProps<FormDataType, LoginFormType> & LoginFormType> = ({handleSubmit, error, captchaUrl}) => {\r\n    return (\r\n        <Form onSubmit={handleSubmit} style={{width: '200px'}}>\r\n            <div>\r\n                <Field\r\n                    placeholder={'email'}\r\n                    name={'email'}\r\n                    component={Input}\r\n                    validate={[required]}\r\n                />\r\n            </div>\r\n            <div>\r\n                <Field\r\n                    placeholder={'password'}\r\n                    name={'password'}\r\n                    component={Input}\r\n                    validate={[required]}\r\n                />\r\n            </div>\r\n            <div>\r\n                <Field\r\n                    type={'checkbox'}\r\n                    name={'rememberMe'}\r\n                    component={Input}\r\n                    validate={[required]}\r\n                />\r\n                Remember me\r\n            </div>\r\n\r\n            {captchaUrl && <img alt={'captcha'} src={captchaUrl}/>}\r\n            {captchaUrl &&\r\n            <Field\r\n                placeholder={'captcha'}\r\n                name={'captcha'}\r\n                component={Input}\r\n                validate={[required]}\r\n            />}\r\n\r\n            {error &&\r\n            <div className={s.formSummaryError}>\r\n                {error}\r\n            </div>}\r\n\r\n            <div>\r\n                <button>Login</button>\r\n            </div>\r\n        </Form>\r\n\r\n    )\r\n}\r\n\r\nexport const LoginReduxForm = reduxForm<FormDataType, LoginFormType>({form: 'login'})(LoginForm)","import React from \"react\";\r\nimport {FormDataType, LoginReduxForm} from \"./LoginForm\";\r\nimport {connect} from \"react-redux\";\r\nimport {login} from \"../../redux/auth-reducer\";\r\nimport {AppStateType} from \"../../redux/redux-store\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\ntype MapStatePropsType = {\r\n    isAuth: boolean\r\n    captchaUrl: null | string\r\n}\r\n\r\ntype MapDispatchPropsType = {\r\n    login: (email: string, password: string, rememberMe: boolean, captcha: string) => void\r\n}\r\n\r\nlet mapStateToProps = (state: AppStateType): MapStatePropsType => {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n        captchaUrl: state.auth.captchaUrl\r\n    }\r\n}\r\n\r\ntype PropsType = MapDispatchPropsType & MapStatePropsType\r\n\r\nconst Login = (props: PropsType) => {\r\n    const onSubmit = (formData: FormDataType) => {\r\n        const {email, password, rememberMe, captcha} = formData\r\n\r\n        props.login(email, password, rememberMe, captcha)\r\n    }\r\n\r\n    if (props.isAuth) {\r\n        return <Redirect to={'/profile'}/>\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h1>Login</h1>\r\n            <LoginReduxForm onSubmit={onSubmit} captchaUrl={props.captchaUrl}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default connect(mapStateToProps, {login})(Login)"],"sourceRoot":""}